<!DOCTYPE html>
<html>
  <head>
    <title>Charlie Menu</title>
    <style>
      #charlie {
        position: fixed;
        bottom: 10px;
        right: 10px;
        width: 100px;
        height: 100px;
        background-size: contain;
        background-repeat: no-repeat;
        cursor: pointer;
      }
      #charlie:hover {
        background-image: url("static.charliehr.com/hats/witch.png");
      }
      #menu {
        display: none;
        position: absolute;
        bottom: 120px;
        right: 20px;
        width: 200px;
        background-color: #f9f9f9;
        border: 1px solid #ccc;
        padding: 10px;
      }
      #menu ul {
        list-style: none;
        padding: 0;
      }
      #menu li {
        margin-bottom: 10px;
      }
    </style>
  </head>
  <body>
    <div id="charlie"></div>

    <div id="menu">
      <ul id="menu-list"></ul>
    </div>

    <script>
      // JSON data
      var jsonData = {
        hat: {
          image: "static.charliehr.com/hats/party.png",
          message: "Happy birthday!",
        },
        menu: [
          {
            title: "Chat",
            url: "#chat",
          },
          {
            title: "Help",
            url: "/help",
          },
          {
            title: "Product Roadmap",
            url: "https://roadmap.charliehr.com",
          },
          {
            title: "What's New",
            url: "/whats_new",
          },
        ],
      };

      // DOM elements
      var charlie = document.getElementById("charlie");
      var menu = document.getElementById("menu");
      var menuList = document.getElementById("menu-list");

      // Function to render the menu items
      function renderMenu() {
        menuList.innerHTML = "";
        jsonData.menu.forEach(function (item) {
          var li = document.createElement("li");
          var a = document.createElement("a");
          a.href = item.url;
          a.textContent = item.title;
          li.appendChild(a);
          menuList.appendChild(li);
        });
      }

      // Set Charlie's hat image
      charlie.style.backgroundImage = "url(" + jsonData.hat.image + ")";

      // Set Charlie's hat message
      charlie.title = jsonData.hat.message;

      // Show/hide menu on click
      charlie.addEventListener("click", function () {
        menu.style.display = menu.style.display === "none" ? "block" : "none";
      });

      // Render the menu
      renderMenu();
    </script>
  </body>
</html>
